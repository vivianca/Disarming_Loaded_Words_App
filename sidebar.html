<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <link rel="stylesheet" href="https://ssl.gstatic.com/docs/script/css/add-ons1.css">
    <!-- The CSS package above applies Google styling to buttons and other elements. --> 
    <!-- Load the jQuery library from the Google CDN -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js">
    </script>
    <style type="text/css" media="screen">
      p {
        margin-top: 5%;
        margin-bottom: 5%;
        margin-right: 5%;
        margin-left: 5%;
      }
    </style>
  </head>
  <body>
    <p><b> Welcome to Disarming Loaded Words! </b><p>
    <p>We are an application built by Stanford students to help you detect gender bias in political reporting.</p>
    <p>Here are some words we found in the document that you might want check out for bias:</p>
    <p id="biasedWords" style="padding: 5%; text-align:left;"></p>
    <script>
      function getBiasedWords(){
         google.script.run
         .withSuccessHandler(doBias)
         .withFailureHandler(function(msg,element){window.alert("failed");})
         .highlightBiasedWords();
      }
      getBiasedWords();
      function doBias(words) {
      
         //build a string of words
         innerString = "";
         for(i = 0; i < words.length; ++i){
            innerString+=words[i].substr(4) + "\n"; //4 gets rid of the regex
         }
         document.getElementById("biasedWords").innerHTML = innerString;
         console.log(words);
      }
    </script>
  </body>
</html>